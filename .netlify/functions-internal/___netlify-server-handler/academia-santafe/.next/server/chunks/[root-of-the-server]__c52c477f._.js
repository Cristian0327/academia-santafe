module.exports=[18622,(e,t,r)=>{t.exports=e.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},24725,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/after-task-async-storage.external.js",()=>require("next/dist/server/app-render/after-task-async-storage.external.js"))},93695,(e,t,r)=>{t.exports=e.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},42700,e=>{"use strict";let t=/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/i,r="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.83 Safari/537.36,gzip(gfe)",a=/<text start="([^"]*)" dur="([^"]*)">([^<]*)<\/text>/g;class n extends Error{constructor(e){super(`[YoutubeTranscript] ðŸš¨ ${e}`)}}class s extends n{constructor(){super("YouTube is receiving too many requests from this IP and now requires solving a captcha to continue")}}class o extends n{constructor(e){super(`The video is no longer available (${e})`)}}class i extends n{constructor(e){super(`Transcript is disabled on this video (${e})`)}}class l extends n{constructor(e){super(`No transcripts are available for this video (${e})`)}}class u extends n{constructor(e,t,r){super(`No transcripts are available in ${e} this video (${r}). Available languages: ${t.join(", ")}`)}}class c{static fetchTranscript(e,t){var n,c,d,p,h;return c=this,d=void 0,p=void 0,h=function*(){let c=this.retrieveVideoId(e),d=yield fetch(`https://www.youtube.com/watch?v=${c}`,{headers:Object.assign(Object.assign({},(null==t?void 0:t.lang)&&{"Accept-Language":t.lang}),{"User-Agent":r})}),p=yield d.text(),h=p.split('"captions":');if(h.length<=1){if(p.includes('class="g-recaptcha"'))throw new s;if(!p.includes('"playabilityStatus":'))throw new o(e);throw new i(e)}let v=null==(n=(()=>{try{return JSON.parse(h[1].split(',"videoDetails')[0].replace("\n",""))}catch(e){return}})())?void 0:n.playerCaptionsTracklistRenderer;if(!v)throw new i(e);if(!("captionTracks"in v))throw new l(e);if((null==t?void 0:t.lang)&&!v.captionTracks.some(e=>e.languageCode===(null==t?void 0:t.lang)))throw new u(null==t?void 0:t.lang,v.captionTracks.map(e=>e.languageCode),e);let g=((null==t?void 0:t.lang)?v.captionTracks.find(e=>e.languageCode===(null==t?void 0:t.lang)):v.captionTracks[0]).baseUrl,f=yield fetch(g,{headers:Object.assign(Object.assign({},(null==t?void 0:t.lang)&&{"Accept-Language":t.lang}),{"User-Agent":r})});if(!f.ok)throw new l(e);return[...(yield f.text()).matchAll(a)].map(e=>{var r;return{text:e[3],duration:parseFloat(e[2]),offset:parseFloat(e[1]),lang:null!=(r=null==t?void 0:t.lang)?r:v.captionTracks[0].languageCode}})},new(p||(p=Promise))(function(e,t){function r(e){try{n(h.next(e))}catch(e){t(e)}}function a(e){try{n(h.throw(e))}catch(e){t(e)}}function n(t){var n;t.done?e(t.value):((n=t.value)instanceof p?n:new p(function(e){e(n)})).then(r,a)}n((h=h.apply(c,d||[])).next())})}static retrieveVideoId(e){if(11===e.length)return e;let r=e.match(t);if(r&&r.length)return r[1];throw new n("Impossible to retrieve Youtube video ID.")}}e.s(["YoutubeTranscript",()=>c,"YoutubeTranscriptDisabledError",()=>i,"YoutubeTranscriptError",()=>n,"YoutubeTranscriptNotAvailableError",()=>l,"YoutubeTranscriptNotAvailableLanguageError",()=>u,"YoutubeTranscriptTooManyRequestError",()=>s,"YoutubeTranscriptVideoUnavailableError",()=>o])},45159,e=>{"use strict";var t=e.i(91837),r=e.i(74614),a=e.i(24043),n=e.i(84193),s=e.i(7555),o=e.i(61325),i=e.i(45418),l=e.i(86634),u=e.i(11081),c=e.i(62380),d=e.i(92845),p=e.i(16291),h=e.i(89822),v=e.i(29439),g=e.i(23601),f=e.i(91759),x=e.i(93695);e.i(53832);var b=e.i(28552),w=e.i(1383);async function R(t){let r=t.nextUrl.searchParams.get("videoId");if(!r)return w.NextResponse.json({error:"videoId es requerido"},{status:400});try{let t=e.r(42700),a=await t.fetchTranscript(r,{lang:"es"}).catch(()=>t.fetchTranscript(r));if(!a||0===a.length)return w.NextResponse.json({error:"No hay subtÃ­tulos disponibles",message:"Este video no tiene subtÃ­tulos habilitados."},{status:404});let n=a.map(e=>({time:e.offset/1e3,duration:e.duration/1e3,text:e.text}));return w.NextResponse.json({segments:n})}catch(e){return console.error("Error en scraping de transcripciÃ³n:",e),w.NextResponse.json({error:"Error al obtener transcripciÃ³n",message:e.message||"No se pudo obtener la transcripciÃ³n del video.",hint:"Este mÃ©todo puede fallar si YouTube cambia su estructura. Considera usar la API oficial de YouTube."},{status:500})}}e.s(["GET",()=>R],19437);var m=e.i(19437);let y=new t.AppRouteRouteModule({definition:{kind:r.RouteKind.APP_ROUTE,page:"/api/youtube/transcripcion-sin-api/route",pathname:"/api/youtube/transcripcion-sin-api",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/academia-santafe/app/api/youtube/transcripcion-sin-api/route.ts",nextConfigOutput:"standalone",userland:m}),{workAsyncStorage:E,workUnitAsyncStorage:T,serverHooks:C}=y;function A(){return(0,a.patchFetch)({workAsyncStorage:E,workUnitAsyncStorage:T})}async function N(e,t,a){y.isDev&&(0,n.addRequestMeta)(e,"devRequestTimingInternalsEnd",process.hrtime.bigint());let w="/api/youtube/transcripcion-sin-api/route";w=w.replace(/\/index$/,"")||"/";let R=await y.prepare(e,t,{srcPage:w,multiZoneDraftMode:!1});if(!R)return t.statusCode=400,t.end("Bad Request"),null==a.waitUntil||a.waitUntil.call(a,Promise.resolve()),null;let{buildId:m,params:E,nextConfig:T,parsedUrl:C,isDraftMode:A,prerenderManifest:N,routerServerContext:k,isOnDemandRevalidate:O,revalidateOnlyGenerated:P,resolvedPathname:j,clientReferenceManifest:I,serverActionsManifest:S}=R,q=(0,l.normalizeAppPath)(w),_=!!(N.dynamicRoutes[q]||N.routes[j]),M=async()=>((null==k?void 0:k.render404)?await k.render404(e,t,C,!1):t.end("This page could not be found"),null);if(_&&!A){let e=!!N.routes[j],t=N.dynamicRoutes[q];if(t&&!1===t.fallback&&!e){if(T.experimental.adapterPath)return await M();throw new x.NoFallbackError}}let U=null;!_||y.isDev||A||(U="/index"===(U=j)?"/":U);let H=!0===y.isDev||!_,$=_&&!H;S&&I&&(0,o.setReferenceManifestsSingleton)({page:w,clientReferenceManifest:I,serverActionsManifest:S,serverModuleMap:(0,i.createServerModuleMap)({serverActionsManifest:S})});let D=e.method||"GET",Y=(0,s.getTracer)(),F=Y.getActiveScopeSpan(),K={params:E,prerenderManifest:N,renderOpts:{experimental:{authInterrupts:!!T.experimental.authInterrupts},cacheComponents:!!T.cacheComponents,supportsDynamicResponse:H,incrementalCache:(0,n.getRequestMeta)(e,"incrementalCache"),cacheLifeProfiles:T.cacheLife,waitUntil:a.waitUntil,onClose:e=>{t.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(t,r,a)=>y.onRequestError(e,t,a,k)},sharedContext:{buildId:m}},L=new u.NodeNextRequest(e),V=new u.NodeNextResponse(t),B=c.NextRequestAdapter.fromNodeNextRequest(L,(0,c.signalFromNodeResponse)(t));try{let o=async e=>y.handle(B,K).finally(()=>{if(!e)return;e.setAttributes({"http.status_code":t.statusCode,"next.rsc":!1});let r=Y.getRootSpanAttributes();if(!r)return;if(r.get("next.span_type")!==d.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${r.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let a=r.get("next.route");if(a){let t=`${D} ${a}`;e.setAttributes({"next.route":a,"http.route":a,"next.span_name":t}),e.updateName(t)}else e.updateName(`${D} ${w}`)}),i=!!(0,n.getRequestMeta)(e,"minimalMode"),l=async n=>{var s,l;let u=async({previousCacheEntry:r})=>{try{if(!i&&O&&P&&!r)return t.statusCode=404,t.setHeader("x-nextjs-cache","REVALIDATED"),t.end("This page could not be found"),null;let s=await o(n);e.fetchMetrics=K.renderOpts.fetchMetrics;let l=K.renderOpts.pendingWaitUntil;l&&a.waitUntil&&(a.waitUntil(l),l=void 0);let u=K.renderOpts.collectedTags;if(!_)return await (0,h.sendResponse)(L,V,s,K.renderOpts.pendingWaitUntil),null;{let e=await s.blob(),t=(0,v.toNodeOutgoingHttpHeaders)(s.headers);u&&(t[f.NEXT_CACHE_TAGS_HEADER]=u),!t["content-type"]&&e.type&&(t["content-type"]=e.type);let r=void 0!==K.renderOpts.collectedRevalidate&&!(K.renderOpts.collectedRevalidate>=f.INFINITE_CACHE)&&K.renderOpts.collectedRevalidate,a=void 0===K.renderOpts.collectedExpire||K.renderOpts.collectedExpire>=f.INFINITE_CACHE?void 0:K.renderOpts.collectedExpire;return{value:{kind:b.CachedRouteKind.APP_ROUTE,status:s.status,body:Buffer.from(await e.arrayBuffer()),headers:t},cacheControl:{revalidate:r,expire:a}}}}catch(t){throw(null==r?void 0:r.isStale)&&await y.onRequestError(e,t,{routerKind:"App Router",routePath:w,routeType:"route",revalidateReason:(0,p.getRevalidateReason)({isStaticGeneration:$,isOnDemandRevalidate:O})},k),t}},c=await y.handleResponse({req:e,nextConfig:T,cacheKey:U,routeKind:r.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:N,isRoutePPREnabled:!1,isOnDemandRevalidate:O,revalidateOnlyGenerated:P,responseGenerator:u,waitUntil:a.waitUntil,isMinimalMode:i});if(!_)return null;if((null==c||null==(s=c.value)?void 0:s.kind)!==b.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==c||null==(l=c.value)?void 0:l.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});i||t.setHeader("x-nextjs-cache",O?"REVALIDATED":c.isMiss?"MISS":c.isStale?"STALE":"HIT"),A&&t.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let d=(0,v.fromNodeOutgoingHttpHeaders)(c.value.headers);return i&&_||d.delete(f.NEXT_CACHE_TAGS_HEADER),!c.cacheControl||t.getHeader("Cache-Control")||d.get("Cache-Control")||d.set("Cache-Control",(0,g.getCacheControlHeader)(c.cacheControl)),await (0,h.sendResponse)(L,V,new Response(c.value.body,{headers:d,status:c.value.status||200})),null};F?await l(F):await Y.withPropagatedContext(e.headers,()=>Y.trace(d.BaseServerSpan.handleRequest,{spanName:`${D} ${w}`,kind:s.SpanKind.SERVER,attributes:{"http.method":D,"http.target":e.url}},l))}catch(t){if(t instanceof x.NoFallbackError||await y.onRequestError(e,t,{routerKind:"App Router",routePath:q,routeType:"route",revalidateReason:(0,p.getRevalidateReason)({isStaticGeneration:$,isOnDemandRevalidate:O})}),_)throw t;return await (0,h.sendResponse)(L,V,new Response(null,{status:500})),null}}e.s(["handler",()=>N,"patchFetch",()=>A,"routeModule",()=>y,"serverHooks",()=>C,"workAsyncStorage",()=>E,"workUnitAsyncStorage",()=>T],45159)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__c52c477f._.js.map